<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8"/>
<title>LisoFlix â€“ Reproductor propio</title>
<style>
  @import url("https://fonts.cdnfonts.com/css/netflix-sans");
  :root{--netflix-red:#e50914;--netflix-black:#000;--netflix-dark:#141414;--white:#fff}
  *{margin:0;padding:0;box-sizing:border-box}
  body{background:var(--netflix-black);font-family:"Netflix Sans",Helvetica,Arial,sans-serif;color:var(--white)}
  header{background:#000;padding:14px 4%;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:1000}
  .logo{font-size:1.8em;font-weight:bold}
  .movie-list{display:flex;flex-wrap:wrap;gap:20px;padding:20px}
  .movie-card{width:200px;background:var(--netflix-dark);border-radius:8px;overflow:hidden;cursor:pointer;transition:transform .2s}
  .movie-card:hover{transform:scale(1.05)}
  .movie-card img{width:100%;height:300px;object-fit:cover;background:#333}
  .movie-card h3{padding:10px;font-size:1rem}
  #player{width:100%;max-height:50vh;display:none;margin-bottom:10px}
</style>
</head>
<body>

<header>
  <div class="logo">LisoFlix</div>
  <nav><button class="active">Inicio</button></nav>
</header>

<video id="player" controls style="display:none"></video>
<div id="conteudo"></div>

<script>
const peliculas = [
  { tit: "Insumergible", img: "https://image.tmdb.org/t/p/w500/8Gxv8gSFCU0XGDykEGv7zR1n2ua.jpg", url: "https://filemoon.to/d/xc1s1pwrf8s4/Insumergible" },
  { tit: "Oppenheimer",  img: "https://image.tmdb.org/t/p/w500/8Gxv8gSFCU0XGDykEGv7zR1n2ua.jpg", url: "https://filemoon.to/d/o74agvehc0f5/Oppenheimer" }
];

conteudo.innerHTML='';
const lista=document.createElement('div');
lista.className='movie-list';
peliculas.forEach(p=>{
  const card=document.createElement('div');
  card.className='movie-card';
  card.innerHTML=`<img src="${p.img}" alt="${p.tit}"/><h3>${p.tit}</h3>`;
  card.onclick=()=>{
    player.src=`/api/resolve?url=${encodeURIComponent(p.url)}`;
    player.style.display='block';
    player.play();
  };
  lista.appendChild(card);
});
conteudo.appendChild(lista);
</script>

</body>
</html>
