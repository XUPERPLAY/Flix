<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Mi LisoFlix – Grilla Netflix</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  :root{
    --netflix-red:#e50914;
    --netflix-black:#000;
    --netflix-dark-gray:#141414;
    --netflix-medium-gray:#333;
    --netflix-light-gray:#808080;
    --netflix-white:#fff;
  }
  *{margin:0;padding:0;box-sizing:border-box}
  body{background:var(--netflix-black);color:var(--netflix-white);font-family:"Helvetica Neue",Arial,sans-serif}

  header{background:#000;padding:14px 4%;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:1000}
  .logo{font-size:1.8em;font-weight:bold}
  .logo span{color:var(--netflix-red);font-style:italic;transform:skewX(-10deg);display:inline-block}

  .hero-banner{height:60vh;background:linear-gradient(rgba(0,0,0,.4),rgba(0,0,0,.8)),url("https://i.imgur.com/6KvUSqs.jpeg");background-size:cover;background-position:center;display:flex;align-items:center;padding:0 4%}
  .hero-content{max-width:500px}
  .hero-title{font-size:3rem;font-weight:bold;text-shadow:2px 2px 4px rgba(0,0,0,.8)}
  .hero-description{font-size:1.2rem;margin-top:10px;text-shadow:1px 1px 2px rgba(0,0,0,.8)}

  /* SECCIÓN NETFLIX */
  .seccion{margin-bottom:50px}
  .seccion h2{margin:30px 0 10px 4%;font-size:1.4em}

  /* FILA de carteles */
  .fila{
    display:flex;
    overflow-x:auto;
    gap:12px;
    padding:0 4% 20px 4%;
    scrollbar-width:none;
  }
  .fila::-webkit-scrollbar{display:none;}

  /* CARTEL */
  .cartel{
    flex:0 0 180px;           /* ancho fijo */
    cursor:pointer;
    transition:transform .3s;
  }
  .cartel:hover{transform:scale(1.08);}

  .cartel img{
    width:100%;
    height:270px;
    object-fit:cover;
    border-radius:6px;
    box-shadow:0 4px 8px rgba(0,0,0,.6);
  }

  .cartel p{
    margin-top:8px;
    font-size:.9em;
    color:var(--netflix-white);
    text-align:left;
    line-height:1.2;
  }

  video{width:100%;max-height:50vh;display:none}
</style>
</head>
<body>

<header>
  <div class="logo"><span>Mi</span> Liso<span>F</span>lix</div>
</header>

<video controls id="player" style="display:none"></video>

<!-- Hero -->
<div class="hero-banner">
  <div class="hero-content">
    <h1 class="hero-title">Descubre tu próxima película</h1>
    <p class="hero-description">Desliza las filas y disfruta.</p>
  </div>
</div>

<!-- Sección Netflix -->
<div id="seccion"></div>

<script>
/* Cambia la URL por tu propia lista .m3u o .w3u */
const LISTA = 'https://raw.githubusercontent.com/XUPERPLAY/Lispe/main/Lis.m3u';

/* Mapa de imágenes (puedes ampliar) */
const IMAGENES = {
  'Pluto TV Cine':      'https://images.pluto.tv/channels/5f8eb6655244a50007d76a1e/colorLogoPNG.png',
  'Pluto TV Series':    'https://images.pluto.tv/channels/5f8eb66e3a34070007d7619e/colorLogoPNG.png',
  'Pluto TV Comedia':   'https://images.pluto.tv/channels/5f8eb6743499270007d8d6ad/colorLogoPNG.png',
  'Pluto TV Acción':    'https://images.pluto.tv/channels/5f8eb67c3499270007d8d6af/colorLogoPNG.png',
  'Pluto TV Drama':     'https://images.pluto.tv/channels/5f8eb6893499270007d8d6b0/colorLogoPNG.png',
  'Pluto TV Documentales':'https://images.pluto.tv/channels/5f8eb6923499270007d8d6b1/colorLogoPNG.png',
  default: 'https://via.placeholder.com/180x270/333/fff?text=Cartel'
};

function getImagen(nombre){
  for(const key in IMAGENES){
    if(nombre.toLowerCase().includes(key.toLowerCase())) return IMAGENES[key];
  }
  return IMAGENES.default;
}

function exibirPlayer(url){
  const v=document.getElementById('player');
  v.src=url;
  v.style.display='block';
  v.play();
  v.scrollIntoView({behavior:'smooth'});
}

async function cargarGrilla(){
  const res = await fetch(LISTA);
  const texto = await res.text();
  const lineas = texto.split('\n');
  const seccion = document.getElementById('seccion');

  /* Crear fila única */
  const filaDiv = document.createElement('div');
  filaDiv.className='fila';

  for(let i=0;i<lineas.length;i++){
    const linea = lineas[i].trim();
    if(linea.startsWith('#EXTINF:')){
      const nombre = linea.split(',')[1] || 'Cartel';
      const url = lineas[i+1]?.trim();
      if(!url) continue;

      const cartel = document.createElement('div');
      cartel.className='cartel';
      cartel.innerHTML=`
        <img src="${getImagen(nombre)}" alt="${nombre}">
        <p>${nombre}</p>`;
      cartel.onclick = () => exibirPlayer(url);
      filaDiv.appendChild(cartel);
    }
  }

  /* Título + fila */
  const tit = document.createElement('div');
  tit.className='seccion';
  tit.innerHTML='<h2>Mi catálogo</h2>';
  tit.appendChild(filaDiv);
  seccion.appendChild(tit);
}
cargarGrilla();
</script>
</body>
</html>
